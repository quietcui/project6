{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: \"AppUpload\",\n  data() {\n    return {\n      imageUrl: '',\n      tname: '',\n      tcreateId: '',\n      tprice: '',\n      ttype: '',\n      tpath: ''\n    };\n  },\n  methods: {\n    toindex() {\n      this.$router.push(\"/index\");\n    },\n    touser() {\n      this.$router.push(\"/user\");\n    },\n    refresh() {\n      location.reload();\n    },\n    toupload() {\n      this.$router.push(\"/upload\");\n    },\n    upload() {\n      let vwallpaper = {\n        vwpId: '001',\n        name: this.tname,\n        createId: this.tcreateId,\n        price: this.tprice,\n        type: this.ttype,\n        path: ''\n      };\n      this.$axios.post('http://localhost:8090/vwallpaper/upload', vwallpaper); /////////////////////////////////////////上传壁纸\n    },\n\n    handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  }\n};","map":{"version":3,"names":["name","data","imageUrl","tname","tcreateId","tprice","ttype","tpath","methods","toindex","$router","push","touser","refresh","location","reload","toupload","upload","vwallpaper","vwpId","createId","price","type","path","$axios","post","handleAvatarSuccess","res","file","URL","createObjectURL","raw","beforeAvatarUpload","isJPG","isLt2M","size","$message","error"],"sources":["src/components/AppUpload.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"header\">\r\n            <div class=\"logo\">壁纸引擎</div>\r\n            <div class=\"nav\">\r\n                <button @click=\"toindex\">首页</button>\r\n                <button>分类</button>\r\n                <button @click=\"refresh\">上传</button>\r\n                <div class=\"userimgbox\">\r\n                    <img src=\"../assets/tou1.jpg\" alt=\"\" width=\"25\" @click=\"touser\">\r\n                    <div>{{ this.$globalVar.NAME }}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"form\">\r\n            <el-upload class=\"avatar-uploader\" action=\"http://localhost:8090/user/upload\" :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\r\n                <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <input type=\"text\" placeholder=\"输入图片名称...\" v-model=\"tname\">\r\n            <input type=\"text\" placeholder=\"输入图片价格￥(输入0即为免费分享)...\" v-model=\"tprice\">\r\n            <input type=\"text\" placeholder=\"输入图片类型...\" v-model=\"ttype\">\r\n            <input type=\"text\" placeholder=\"输入你的昵称...\" v-model=\"tcreateId\">\r\n            <button @click=\"upload\">上传</button>\r\n        </div>\r\n        <div class=\"footer\">\r\n            <p>© 2023 壁纸引擎. All rights reserved.</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n    name: \"AppUpload\",\r\n    data() {\r\n        return {\r\n            imageUrl: '',\r\n            tname: '',\r\n            tcreateId: '',\r\n            tprice: '',\r\n            ttype: '',\r\n            tpath: ''\r\n\r\n        };\r\n    },\r\n    methods: {\r\n        toindex() {\r\n            this.$router.push(\"/index\");\r\n        },\r\n        touser() {\r\n            this.$router.push(\"/user\");\r\n        },\r\n        refresh() {\r\n            location.reload();\r\n        },\r\n        toupload() {\r\n            this.$router.push(\"/upload\");\r\n        },\r\n        upload() {\r\n            let vwallpaper = {\r\n                vwpId: '001',\r\n                name: this.tname,\r\n                createId: this.tcreateId,\r\n                price: this.tprice,\r\n                type: this.ttype,\r\n                path: ''\r\n\r\n            }\r\n            this.$axios.post('http://localhost:8090/vwallpaper/upload', vwallpaper)   /////////////////////////////////////////上传壁纸\r\n        },\r\n        handleAvatarSuccess(res, file) {\r\n            this.imageUrl = URL.createObjectURL(file.raw);\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isJPG = file.type === 'image/jpeg';\r\n            const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n            if (!isJPG) {\r\n                this.$message.error('上传头像图片只能是 JPG 格式!');\r\n            }\r\n            if (!isLt2M) {\r\n                this.$message.error('上传头像图片大小不能超过 2MB!');\r\n            }\r\n            return isJPG && isLt2M;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n    width: 80%;\r\n    margin: 0 auto;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 20px;\r\n}\r\n\r\n.logo {\r\n    font-size: 32px;\r\n    font-weight: bold;\r\n    color: #333333;\r\n}\r\n\r\n.nav {\r\n    display: flex;\r\n    gap: 20px;\r\n}\r\n\r\n.nav img:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n.nav button {\r\n    text-decoration: none;\r\n    color: #333333;\r\n    font-size: 16px;\r\n    border: none;\r\n    background-color: rgba(255, 255, 255, 0);\r\n}\r\n\r\n.nav button:hover {\r\n    color: #0099ff;\r\n    cursor: pointer;\r\n}\r\n\r\n.form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.form input {\r\n    width: 60%;\r\n    height: 40px;\r\n    border: 1px solid #cccccc;\r\n    border-radius: 20px;\r\n    padding: 10px;\r\n    font-size: 16px;\r\n}\r\n\r\n.form button {\r\n    width: 100px;\r\n    height: 40px;\r\n    border: none;\r\n    border-radius: 20px;\r\n    background-color: #0099ff;\r\n    color: white;\r\n    font-size: 16px;\r\n}\r\n\r\n.form button:hover {\r\n    background-color: #0066cc;\r\n    cursor: pointer;\r\n}\r\n\r\n.footer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 20px;\r\n}\r\n\r\n.footer p {\r\n    font-size: 14px;\r\n    color: #999999;\r\n}\r\n\r\n.userimgbox {\r\n    margin-top: 20px;\r\n}</style>"],"mappings":";;;;AAmCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;MACAC,MAAA;MACAC,KAAA;MACAC,KAAA;IAEA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,OAAA;MACA,KAAAF,OAAA,CAAAC,IAAA;IACA;IACAE,QAAA;MACAC,QAAA,CAAAC,MAAA;IACA;IACAC,SAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;IACA;IACAM,OAAA;MACA,IAAAC,UAAA;QACAC,KAAA;QACAnB,IAAA,OAAAG,KAAA;QACAiB,QAAA,OAAAhB,SAAA;QACAiB,KAAA,OAAAhB,MAAA;QACAiB,IAAA,OAAAhB,KAAA;QACAiB,IAAA;MAEA;MACA,KAAAC,MAAA,CAAAC,IAAA,4CAAAP,UAAA;IACA;;IACAQ,oBAAAC,GAAA,EAAAC,IAAA;MACA,KAAA1B,QAAA,GAAA2B,GAAA,CAAAC,eAAA,CAAAF,IAAA,CAAAG,GAAA;IACA;IACAC,mBAAAJ,IAAA;MACA,MAAAK,KAAA,GAAAL,IAAA,CAAAN,IAAA;MACA,MAAAY,MAAA,GAAAN,IAAA,CAAAO,IAAA;MAEA,KAAAF,KAAA;QACA,KAAAG,QAAA,CAAAC,KAAA;MACA;MACA,KAAAH,MAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,OAAAJ,KAAA,IAAAC,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}