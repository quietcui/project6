{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'AppLogin',\n  data() {\n    return {\n      name: '',\n      password: ''\n    };\n  },\n  methods: {\n    register() {\n      this.$router.push(\"/register\");\n    },\n    login() {\n      let user = {\n        userId: this.name,\n        password: this.password\n      };\n      let self = this;\n      this.$axios.post('http://localhost:8090/user/login', user) ////////////////////////////////////登录信息\n      .then(function (response) {\n        let result = response.data;\n        if (result.code === 200) {\n          console.log(\"登录成功！\");\n          console.log(\"返回的数据：\", result.data);\n          console.log(\"总记录数：\", result.total);\n          self.$globalVar.NAME = result.data.name;\n          self.$globalVar.BALANCE = result.data.balance;\n          self.$globalVar.PASSWORD = result.data.password;\n          self.$globalVar.USERID = result.data.userId;\n          console.log(self.$globalVar);\n          self.$router.push(\"/index\");\n        } else if (result.code === 400) {\n          console.log(\"登录失败！\");\n          alert(\"账号或密码错误，请重新输入\");\n          location.reload();\n        }\n      }).catch(function (error) {\n        console.log(\"请求错误：\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","password","methods","register","$router","push","login","user","userId","self","$axios","post","then","response","result","code","console","log","total","$globalVar","NAME","BALANCE","balance","PASSWORD","USERID","alert","location","reload","catch","error"],"sources":["src/components/AppLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"background\">\r\n    <div class=\"box\">\r\n      <h2>用户登录</h2>\r\n      <div class=\"input-box\">\r\n        <label>账号</label>\r\n        <input type=\"text\" v-model=\"name\">\r\n      </div>\r\n      <div class=\"input-box\">\r\n        <label>密码</label>\r\n        <input type=\"password\" v-model=\"password\">\r\n      </div>\r\n      <div class=\"btn-box\">\r\n        <a href=\"#\">忘记密码?</a>\r\n        <div>\r\n          <button @click=\"login\">登录</button>\r\n          <button @click=\"register\">注册</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\n\r\nexport default {\r\n  name: 'AppLogin',\r\n  data() {\r\n    return {\r\n      name: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods: {\r\n    register() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    login() {\r\n      let user = {\r\n        userId: this.name,\r\n        password: this.password\r\n      };\r\n      let self = this;\r\n      this.$axios.post('http://localhost:8090/user/login', user)     ////////////////////////////////////登录信息\r\n        .then(function (response) {\r\n          let result = response.data;\r\n          if (result.code === 200) {\r\n            console.log(\"登录成功！\");\r\n            console.log(\"返回的数据：\", result.data);\r\n            console.log(\"总记录数：\", result.total);\r\n\r\n\r\n            self.$globalVar.NAME = result.data.name;\r\n            self.$globalVar.BALANCE = result.data.balance;\r\n            self.$globalVar.PASSWORD = result.data.password;\r\n            self.$globalVar.USERID = result.data.userId;\r\n            console.log(self.$globalVar);\r\n\r\n            self.$router.push(\"/index\");\r\n          } else if (result.code === 400) {\r\n            console.log(\"登录失败！\");\r\n            alert(\"账号或密码错误，请重新输入\");\r\n            location.reload();\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"请求错误：\", error);\r\n        });\r\n\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n  \r\n<style scoped>\r\n@import '../assets/login.css';\r\n</style>\r\n  \r\n  "],"mappings":";AAyBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAD,IAAA;MACAE,QAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,MAAA;MACA,IAAAC,IAAA;QACAC,MAAA,OAAAT,IAAA;QACAE,QAAA,OAAAA;MACA;MACA,IAAAQ,IAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,qCAAAJ,IAAA;MAAA,CACAK,IAAA,WAAAC,QAAA;QACA,IAAAC,MAAA,GAAAD,QAAA,CAAAb,IAAA;QACA,IAAAc,MAAA,CAAAC,IAAA;UACAC,OAAA,CAAAC,GAAA;UACAD,OAAA,CAAAC,GAAA,WAAAH,MAAA,CAAAd,IAAA;UACAgB,OAAA,CAAAC,GAAA,UAAAH,MAAA,CAAAI,KAAA;UAGAT,IAAA,CAAAU,UAAA,CAAAC,IAAA,GAAAN,MAAA,CAAAd,IAAA,CAAAD,IAAA;UACAU,IAAA,CAAAU,UAAA,CAAAE,OAAA,GAAAP,MAAA,CAAAd,IAAA,CAAAsB,OAAA;UACAb,IAAA,CAAAU,UAAA,CAAAI,QAAA,GAAAT,MAAA,CAAAd,IAAA,CAAAC,QAAA;UACAQ,IAAA,CAAAU,UAAA,CAAAK,MAAA,GAAAV,MAAA,CAAAd,IAAA,CAAAQ,MAAA;UACAQ,OAAA,CAAAC,GAAA,CAAAR,IAAA,CAAAU,UAAA;UAEAV,IAAA,CAAAL,OAAA,CAAAC,IAAA;QACA,WAAAS,MAAA,CAAAC,IAAA;UACAC,OAAA,CAAAC,GAAA;UACAQ,KAAA;UACAC,QAAA,CAAAC,MAAA;QACA;MACA,GACAC,KAAA,WAAAC,KAAA;QACAb,OAAA,CAAAC,GAAA,UAAAY,KAAA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}